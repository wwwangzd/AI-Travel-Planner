# AI 旅行规划师需求文档

## 项目概述

Web 版 AI 旅行规划师，通过 AI 技术自动生成个性化旅行路线和建议，简化旅行规划过程并提供实时旅行辅助。

## 功能需求

### 1. 智能行程规划

**输入方式**
- 支持语音输入（必须）
- 支持文字输入

**输入处理流程**
1. 用户输入自然语言描述（如："我想去日本，5天，预算1万元，喜欢美食和动漫，带孩子"）
2. 系统提取关键信息并结构化：
   - 旅行目的地
   - 旅行日期（起止日期或天数）
   - 预算金额
   - 同行人数
   - 旅行偏好（如美食、动漫、亲子等）
3. 用户确认或修改提取的信息
4. 基于结构化信息生成旅行计划

**输出内容**
- 个性化旅行路线（交通安排、住宿推荐、景点安排、餐厅推荐等详细信息）
- 预算分配建议

### 2. 费用预算与管理

**功能点**
- 旅行开销记录（支持语音和文字输入）
- 费用统计与分类展示
- 费用分析：
  - 对比预算与实际支出
  - 分析消费趋势
  - 提供节省建议
  - 预警超支风险

### 3. 用户偏好管理

**偏好设置**
- 常用旅行偏好（景点类型、美食偏好、住宿标准等）
- 出行习惯（交通方式偏好、每日游览节奏等）
- 预算范围偏好

**偏好应用**
- 新建计划时自动应用用户偏好
- 根据历史计划学习用户偏好

### 4. 用户管理与数据存储

**注册登录系统**
- 用户注册/登录
- 多份旅行计划管理

**云端同步**
- 旅行计划同步
- 偏好设置同步
- 费用记录同步
- 多设备访问支持

## 技术方案

### 前端设计
- 以地图为主的交互界面
- 清晰的行程展示
- 美观的图片展示

### 后端服务
- 数据库：Supabase / Firebase Firestore / 其他
- 用户认证：Firebase Authentication / Supabase Auth / 其他

### 语音识别
- 科大讯飞 API 或其他语音识别服务

### 地图导航
- 高德地图 API 或百度地图 API
- 提供地理位置服务
- 提供导航功能

### AI 服务
- 大语言模型 API（自选）
- 用于行程规划生成
- 用于费用预算分析

## 交付要求

### 代码仓库
- GitHub 公开仓库
- 保留详细的提交记录

### 部署文件
- 提供 Docker Image 文件
- 可直接下载运行

### 文档
- README 文档说明运行方式
- 如使用非阿里云 API，需在 README 中提供 API Key

### 安全要求
- **禁止**将任何 API Key 写入代码
- **禁止**将 API Key 提交到 GitHub
- 通过设置页面输入框配置 API Key，或使用配置文件方式
